<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Level 1. Task 1</title>
    <script>
      // Level 1. Task 1
      // Â Data feed address
      let requestURL = "https://jsonplaceholder.typicode.com/users";
      // Creating a request handler object
      var xhr = new XMLHttpRequest();
      // Opening the data page
      xhr.open("GET", requestURL, true);
      // According to the result of reading the data, we begin processing them
      xhr.onload = function () {
        // Converting the received data from JSON into a form suitable for processing (an array of objects)
        var users = JSON.parse(xhr.responseText);
        // If it was possible to get the necessary data, then we process them
        if (xhr.readyState == 4 && xhr.status == "200") {
          //   console.log(users);
          console.log("Sorted usernames: ");
          users
            // We extract the values of the username field from the objects of the users array 
            // and put them back into the same array instead of these objects
            .map((user) => user.username)
            // then we sort the username values in alphabetical order
            .sort()
            // Displaying the resulting sequence to the console
            .forEach((item) => {
              console.log(item);
            });
        } else {
          // If an error occurred, we output what was received
          console.error(users);
        }
      };
      xhr.send(null);
    </script>
  </head>
  <body>See results in the console</body>
</html>
